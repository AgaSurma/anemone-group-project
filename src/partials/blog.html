<section class="section blog" id="blog">
  <div class="container">
    <h2 class="section__heading">Blog</h2>
    <!-- ----- SLIDER IMAGES ----- -->
    <div class="slider">
      <div class="slider__wrapper">
        <!-- <img
          class="slider__item"
          src="./images/blog/image1-desktop-w390-x1.jpg"
          alt="Slide 1"
          srcset="./images/blog/image1-desktop-w390-x2.jpg 2x"
        />
        <img
          class="slider__item"
          src="./images/blog/image2-desktop-w390-x1.jpg"
          alt="Slide 1"
          srcset="./images/blog/image2-desktop-w390-x2.jpg 2x"
        />
        <img
          class="slider__item"
          src="./images/blog/image3-desktop-w390-x1.jpg"
          alt="Slide 1"
          srcset="./images/blog/image3-desktop-w390-x2.jpg 2x"
        />
        <img
          class="slider__item"
          src="./images/blog/image4-desktop-w390-x1.jpg"
          alt="Slide 1"
          srcset="./images/blog/image4-desktop-w390-x2.jpg 2x"
        />
        <img
          class="slider__item"
          src="./images/blog/image5-desktop-w390-x1.jpg"
          alt="Slide 1"
          srcset="./images/blog/image5-desktop-w390-x2.jpg 2x"
        />
        <img
          class="slider__item"
          src="./images/blog/image6-desktop-w390-x1.jpg"
          alt="Slide 1"
          srcset="./images/blog/image6-desktop-w390-x2.jpg 2x"
        /> -->

        <picture class="slider__item">
          <source
            srcset="
              ./images/blog/image1-desktop-w390-x1.jpg  600w,
              ./images/blog/image1-desktop-w390-x2.jpg 1200w
            "
            media="(min-width: 1280px)"
            sizes="(min-width: 1280px) 1200px, 100vw"
          />
          <source
            srcset="
              ./images/blog/image1-tablet-w344-x1.jpg 340w,
              ./images/blog/image1-tablet-w344-x2.jpg 680w
            "
            media="(min-width: 768px)"
            sizes="(min-width: 768px) 680px, 100vw"
          />
          <img
            src="./images/blog/image1-mobile-w136-x1.jpg"
            srcset="
              ./images/blog/image1-mobile-w136-x1.jpg 136w,
              ./images/blog/image1-mobile-w136-x2.jpg 272w
            "
            alt="Slide 1"
          />
        </picture>
        <picture class="slider__item">
          <source
            srcset="
              ./images/blog/image2-desktop-w390-x1.jpg  600w,
              ./images/blog/image2-desktop-w390-x2.jpg 1200w
            "
            media="(min-width: 1280px)"
            sizes="(min-width: 1280px) 1200px, 100vw"
          />
          <source
            srcset="
              ./images/blog/image2-tablet-w344-x1.jpg 340w,
              ./images/blog/image2-tablet-w344-x2.jpg 680w
            "
            media="(min-width: 768px)"
            sizes="(min-width: 768px) 680px, 100vw"
          />
          <img
            src="./images/blog/image2-moblie-w136-x1.jpg"
            srcset="
              ./images/blog/image2-moblie-w136-x1.jpg 136w,
              ./images/blog/image2-moblie-w136-x2.jpg 272w
            "
            alt="Slide 2"
          />
        </picture>
        <picture class="slider__item">
          <source
            srcset="
              ./images/blog/image3-desktop-w390-x1.jpg  600w,
              ./images/blog/image3-desktop-w390-x2.jpg 1200w
            "
            media="(min-width: 1280px)"
            sizes="(min-width: 1280px) 1200px, 100vw"
          />
          <source
            srcset="
              ./images/blog/image3-tablet-w344-x1.jpg 340w,
              ./images/blog/image3-tablet-w344-x2.jpg 680w
            "
            media="(min-width: 768px)"
            sizes="(min-width: 768px) 680px, 100vw"
          />
          <img
            src="./images/blog/image3-mobile-w136-x1.jpg"
            srcset="
              ./images/blog/image3-mobile-w136-x1.jpg 136w,
              ./images/blog/image3-mobile-w136-x2.jpg 272w
            "
            alt="Slide 3"
          />
        </picture>
        <picture class="slider__item">
          <source
            srcset="
              ./images/blog/image4-desktop-w390-x1.jpg  600w,
              ./images/blog/image4-desktop-w390-x2.jpg 1200w
            "
            media="(min-width: 1280px)"
            sizes="(min-width: 1280px) 1200px, 100vw"
          />
          <source
            srcset="
              ./images/blog/image4-tablet-w344-x1.jpg 340w,
              ./images/blog/image4-tablet-w344-x2.jpg 680w
            "
            media="(min-width: 768px)"
            sizes="(min-width: 768px) 680px, 100vw"
          />
          <img
            src="./images/blog/image4-mobile-w136-x1.jpg"
            srcset="
              ./images/blog/image4-mobile-w136-x1.jpg 136w,
              ./images/blog/image4-mobile-w136-x2.jpg 272w
            "
            alt="Slide 4"
          />
        </picture>
        <picture class="slider__item">
          <source
            srcset="
              ./images/blog/image5-desktop-w390-x1.jpg  600w,
              ./images/blog/image5-desktop-w390-x2.jpg 1200w
            "
            media="(min-width: 1280px)"
            sizes="(min-width: 1280px) 1200px, 100vw"
          />
          <source
            srcset="
              ./images/blog/image5-tablet-w344-x1.jpg 340w,
              ./images/blog/image5-tablet-w344-x2.jpg 680w
            "
            media="(min-width: 768px)"
            sizes="(min-width: 768px) 680px, 100vw"
          />
          <img
            src="./images/blog/image5-mobile-w136-x1.jpg"
            srcset="
              ./images/blog/image5-mobile-w136-x1.jpg 136w,
              ./images/blog/image5-mobile-w136-x2.jpg 272w
            "
            alt="Slide 5"
          />
        </picture>
        <picture class="slider__item">
          <source
            srcset="
              ./images/blog/image6-desktop-w390-x1.jpg  600w,
              ./images/blog/image6-desktop-w390-x2.jpg 1200w
            "
            media="(min-width: 1280px)"
            sizes="(min-width: 1280px) 1200px, 100vw"
          />
          <source
            srcset="
              ./images/blog/image6-tablet-w344-x1.jpg 340w,
              ./images/blog/image6-tablet-w344-x2.jpg 680w
            "
            media="(min-width: 768px)"
            sizes="(min-width: 768px) 680px, 100vw"
          />
          <img
            src="./images/blog/image6-mobile-w136-x1.jpg"
            srcset="
              ./images/blog/image6-mobile-w136-x1.jpg 136w,
              ./images/blog/image6-mobile-w136-x2.jpg 272w
            "
            alt="Slide 6"
          />
        </picture>
      </div>

      <!-- ----- SLIDER BUTTONS ----- -->
      <div class="slider__buttons">
        <svg class="slider__button slider__button--prev">
          <use href="./images/blog/svg/arrows.svg#icon-arrow-left"></use>
        </svg>
        <svg class="slider__button slider__button--next">
          <use href="./images/blog/svg/arrows.svg#icon-arrow-right"></use>
        </svg>
      </div>
    </div>

    <!-- ----- NEWSLETTER ----- -->
    <div class="newsletter-container">
      <h3 class="newsletter__heading">Follow to our newsletter</h3>
      <button class="newsletter__buttons button" type="button" open-newsletter>Subscribe</button>
    </div>
  </div>

  <!-- ------ NEWSLETTER MODAL ----- -->
  <div class="backdrop is-hidden" newsletter-modal>
    <div class="newsletter">
      <div class="left-side">
        <img src="./images/blog/image5-desktop-w390-x1.jpg" />
      </div>
      <div class="right-side">
        <button class="close-btn" type="button" close-newsletter>&#10005;</button>
        <h3 class="newsletter__heading">Follow to our newsletter</h3>
        <p class="newsletter__description">
          Be the first to get exclusive offers and the latest news on our product directly in your
          box.
        </p>
        <button class="button submit__button" type="button" close-newsletter>Subscribe</button>
        <input type="email" class="form__input" />
        <p class="form__validation">Podany adres email jest niepoprawny!</p>
      </div>
    </div>
  </div>
</section>

<script>
  const sliderWrapper = document.querySelector('.slider__wrapper');
  const pictures = sliderWrapper.querySelectorAll('.slider__item');
  const sliderButtons = document.querySelectorAll('.slider__button');
  sliderButtons.forEach(btn =>
    btn.addEventListener('click', e => sliderWrapper.classList.toggle('slider-action')),
  );

  const scaleImages = () => {
    sliderWrapper.style.width = 'auto';
    let imageWidth = 0;

    if (document.body.offsetWidth < 1280) {
      imageWidth = sliderWrapper.offsetWidth / 2;
    } else {
      imageWidth = sliderWrapper.offsetWidth / 3;
    }

    pictures.forEach(picture => (picture.style.width = `${imageWidth + 32}px`));

    sliderWrapper.style.width = `${pictures.length * imageWidth + 32}px`;
  };

  window.addEventListener('resize', scaleImages);
  document.addEventListener('DOMContentLoaded', scaleImages);
</script>
